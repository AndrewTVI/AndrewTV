<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>@AndrewTVI | Links</title>
<meta name="description" content="Links y posts recientes." />
<meta name="theme-color" content="#b8a3ff" />

<!-- Favicons -->
<link rel="icon" href="favicon.webp" type="image/webp" />
<link rel="icon" href="favicon.png" type="image/png" sizes="32x32" />
<link rel="apple-touch-icon" href="favicon.png" />
<link rel="icon" href="favicon.ico" sizes="any" />

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<!-- Elfsight: SOLO UNA VEZ -->
<script src="https://elfsightcdn.com/platform.js" defer></script>

<style>
:root{
  /* Tema por defecto: LINKS (morado) */
  --bg-1:#0b0b0e;
  --bg-2:#14141a;
  --grad-1: radial-gradient(900px 540px at 50% -10%, #a78bfa26, transparent);
  --chip-glow: 0 0 0 1px rgba(167,139,250,.45), 0 12px 28px rgba(167,139,250,.25);
  --accent: #a78bfa;
  --border: rgba(255,255,255,.25);
  --fg:#f3f5f7;
  --muted:#c9cad0;
  --panel-bg1: rgba(255,255,255,.22);
  --panel-bg2: rgba(255,255,255,.08);
  --r-outer:28px;
}

*{box-sizing:border-box}
html{height:100%}
body{
  min-height:100vh;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--fg);
  background: var(--grad-1), linear-gradient(180deg,var(--bg-2),var(--bg-1));
  display:flex;justify-content:center;align-items:flex-start;overflow-y:auto;padding:20px 16px 110px;
}

/* ===== Starfield adaptativo ===== */
#stars{position:fixed;inset:0;z-index:-1;pointer-events:none;filter:contrast(1.05) brightness(1.06)}

.phone{
  width:100%;max-width:980px;border-radius:var(--r-outer);
  background:linear-gradient(180deg,var(--panel-bg1),var(--panel-bg2));
  border:1px solid var(--border);
  backdrop-filter:blur(14px) saturate(160%);-webkit-backdrop-filter:blur(14px) saturate(160%);
  box-shadow:0 22px 48px rgba(0,0,0,.38);overflow:hidden;margin:0 auto;
}

/* Cover / header */
.cover{position:relative;height:min(42vw,260px);background:linear-gradient(180deg,#23242a,#1a1b20);overflow:hidden}
.cover img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:saturate(1.05) contrast(1.02)}
.cover::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,transparent 58%, rgba(0,0,0,.58))}
header{position:relative;text-align:center;padding:0 18px 12px}
.avatar{position:relative;top:-46px;z-index:2;width:100px;height:100px;border-radius:999px;object-fit:cover;border:3px solid rgba(255,255,255,.85);box-shadow:0 10px 24px rgba(0,0,0,.32)}
.name{margin-top:-38px;font-weight:800;font-size:26px}
.handle{color:var(--muted);font-weight:600}

/* SHIMMER: #Proyecto 1K */
.subline{margin-top:6px;font-weight:800;letter-spacing:.2px}
.shimmer{
  display:inline-block;
  background: linear-gradient(90deg, rgba(255,255,255,.15), rgba(255,255,255,.65), rgba(255,255,255,.15));
  -webkit-background-clip:text;background-clip:text;color:transparent;
  background-size:280% 100%;
  animation:shine 4s linear infinite;
}
@keyframes shine{0%{background-position:200% 0}100%{background-position:-80% 0}}

/* Tabs */
.tabs{display:flex;gap:10px;padding:14px;justify-content:center;flex-wrap:wrap}
.tab{
  padding:10px 16px;border-radius:999px;border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.07));
  color:var(--fg);font-weight:800;cursor:pointer;backdrop-filter:blur(8px);min-width:120px;text-align:center;
  transition:opacity .2s ease, transform .2s ease, box-shadow .25s ease;
}
.tab:hover{transform:translateY(-1px)}
.tab[aria-selected="true"]{box-shadow:var(--chip-glow)}
.tab[aria-disabled="true"]{opacity:.45;cursor:not-allowed;filter:grayscale(40%)}

/* Panels / grid */
section{padding:14px}
.list{display:grid;gap:14px;margin:6px 0 18px}
.grid{display:grid;grid-template-columns:1fr;gap:16px}
@media(min-width:860px){.grid{grid-template-columns:1fr 1fr}}
.card{position:relative;overflow:hidden;border-radius:18px;background:linear-gradient(180deg,var(--panel-bg1),var(--panel-bg2));border:1px solid var(--border);min-height:180px;backdrop-filter:blur(10px)}
.card h3{position:absolute;left:12px;top:10px;margin:0;background:rgba(0,0,0,.45);padding:6px 10px;border-radius:999px;font-size:12px;letter-spacing:.2px}

/* Embeds */
.slot{width:100%;display:block}
.slot16x9{width:100%;aspect-ratio:16/9;border-radius:14px;overflow:hidden}
iframe{width:100%;height:100%;border:0}
#tt-slot{min-height:520px;display:grid;place-items:center}
@media (max-width:720px){#tt-slot{min-height:420px}}

/* Link items */
.item{
  position:relative;display:flex;align-items:center;gap:12px;text-decoration:none;color:var(--fg);
  background:linear-gradient(145deg, rgba(255,255,255,.20), rgba(255,255,255,.08));
  border:1px solid var(--border);border-radius:24px;padding:14px 16px;
  backdrop-filter:blur(10px) saturate(140%);-webkit-backdrop-filter:blur(10px) saturate(140%);
  transition:transform .08s ease, box-shadow .12s ease, background .2s ease;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.75), inset 0 -1px 0 rgba(0,0,0,.22);
}
.item:hover{transform:translateY(-2px);box-shadow:var(--chip-glow)}
.icon{display:grid;place-items:center}
.icon img{width:36px;height:36px;display:block}
.label{font-weight:800}

/* Footer */
footer{padding:18px 0 8px;text-align:center;color:var(--muted);font-size:12px}

/* ===== Themes ===== */
/* Posts – azul marino más oscuro */
.theme-posts{
  --bg-1:#071022; --bg-2:#0a1324;
  --grad-1: radial-gradient(900px 540px at 50% -10%, #2d69c926, transparent);
  --chip-glow: 0 0 0 1px rgba(45,105,201,.5), 0 12px 28px rgba(45,105,201,.28);
  --accent:#2d69c9;
}
/* ATVI – aqua */
.theme-atvi{
  --bg-1:#051b1f; --bg-2:#0a272b;
  --grad-1: radial-gradient(900px 540px at 50% -10%, #2bdab526, transparent);
  --chip-glow: 0 0 0 1px rgba(43,218,181,.5), 0 12px 28px rgba(43,218,181,.25);
  --accent:#2bdab5;
}

/* ===== Panel transitions (consistentes) ===== */
.panel{
  opacity:0;
  transform:translateY(8px);
  transition:opacity .28s ease, transform .28s ease;
  will-change: opacity, transform;
}
.panel.show{ opacity:1; transform:none; }
.panel.hide{ opacity:0; transform:translateY(8px); }

@media (prefers-reduced-motion: reduce){
  .panel{ transition:none; }
}
</style>
</head>
<body class="theme-links">
<canvas id="stars"></canvas>

<main class="phone">
  <div class="cover"><img id="coverImg" src="cover.webp" alt="Cover"></div>
  <header>
    <img class="avatar" id="avatarImg" src="avatar.webp" alt="Avatar" />
    <div class="name" id="titleName">AndrewTVI</div>
    <div class="handle" id="handleText">Hola</div>
    <div class="subline"><span class="shimmer">#Proyecto 1K</span></div>
  </header>

  <!-- Tabs -->
  <nav class="tabs" role="tablist">
    <button class="tab" role="tab" id="tab-links" aria-selected="true" aria-controls="panel-links">Links</button>
    <button class="tab" role="tab" id="tab-posts" aria-selected="false" aria-controls="panel-posts">Posts</button>
    <button class="tab" role="tab" id="tab-atvi" aria-selected="false" aria-controls="panel-atvi">ATVICRAFT</button>
    <button class="tab" role="tab" id="tab-soon" aria-selected="false" aria-disabled="true">PRÓXIMAMENTE</button>
  </nav>

  <!-- LINKS -->
  <section id="panel-links" class="panel show" role="tabpanel" aria-labelledby="tab-links">
    <div class="list">
      <a class="item" href="https://www.twitch.tv/andrewtvi" target="_blank" rel="noopener">
        <span class="icon"><img src="icons/twitch.webp" alt="Twitch"></span><span class="label">Directos</span>
      </a>
      <a class="item" href="https://discord.com/invite/fCCrFsg4fB" target="_blank" rel="noopener">
        <span class="icon"><img src="icons/discord.webp" alt="Discord"></span><span class="label">EL CORRALON</span>
      </a>
      <a class="item" href="https://www.youtube.com/@ElAndrewTVI" target="_blank" rel="noopener">
        <span class="icon"><img src="icons/youtube.webp" alt="YouTube"></span><span class="label">Videos Chafas</span>
      </a>
      <a class="item" href="https://www.tiktok.com/@andrewtvi" target="_blank" rel="noopener">
        <span class="icon"><img src="icons/tiktok.webp" alt="TikTok"></span><span class="label">TikTok</span>
      </a>
      <a class="item" href="https://x.com/iandres_soto" target="_blank" rel="noopener">
        <span class="icon"><img src="icons/x.webp" alt="X"></span><span class="label">X (Twitter)</span>
      </a>
      <a class="item" href="https://www.instagram.com/andrewtvi" target="_blank" rel="noopener">
        <span class="icon"><img src="icons/instagram.webp" alt="Instagram"></span><span class="label">Instagram</span>
      </a>
      <a class="item" href="https://kick.com/andrewtvi" target="_blank" rel="noopener">
        <span class="icon"><img src="icons/kick.webp" alt="Kick"></span><span class="label">Directos sin anuncios</span>
      </a>
      <a class="item" href="https://laby.net/@AndrewTVI" target="_blank" rel="noopener">
        <span class="icon"><img src="icons/minecraft.webp" alt="Minecraft"></span><span class="label">Perfil de Minecraft</span>
      </a>
    </div>
  </section>

  <!-- POSTS -->
  <section id="panel-posts" class="panel hide" role="tabpanel" aria-labelledby="tab-posts" hidden>
    <div class="grid">
      <!-- Instagram -->
      <article class="card"><h3>Instagram</h3>
        <div class="slot">
          <div class="elfsight-app-bcfa254f-d2c9-4100-b02e-75a673307e59" data-elfsight-app-lazy></div>
        </div>
      </article>
      <!-- YouTube -->
      <article class="card"><h3>YouTube</h3>
        <div class="slot slot16x9"><iframe id="yt-embed" allowfullscreen></iframe></div>
      </article>
      <!-- Twitter -->
      <article class="card"><h3>Tweets</h3>
        <div class="slot">
          <div class="elfsight-app-e74ab7a2-0a05-429c-8ccf-ed4a335ad494" data-elfsight-app-lazy></div>
        </div>
      </article>
      <!-- TikTok -->
      <article class="card"><h3>TikTok</h3>
        <div class="slot" id="tt-slot">
          <div class="elfsight-app-081b44e4-c8e9-47b5-b96f-36c35206ad79" data-elfsight-app-lazy></div>
        </div>
      </article>
    </div>
  </section>

  <!-- ATVICRAFT -->
  <section id="panel-atvi" class="panel hide" role="tabpanel" aria-labelledby="tab-atvi" hidden>
    <div class="list">
      <a class="item" href="https://discord.com/invite/8rrXvbES29" target="_blank" rel="noopener" style="box-shadow:0 0 0 1px rgba(43,218,181,.5),0 10px 24px rgba(43,218,181,.25) inset;">
        <span class="icon"><img src="icons/discord-atvi.webp" alt="Discord ATVICRAFT"></span><span class="label">Únete al Discord</span>
      </a>
      <a class="item" href="https://www.instagram.com/atvicraft" target="_blank" rel="noopener" style="box-shadow:0 0 0 1px rgba(43,218,181,.5),0 10px 24px rgba(43,218,181,.25) inset;">
        <span class="icon"><img src="icons/instagram-atvi.webp" alt="Instagram ATVICRAFT"></span><span class="label">Instagram</span>
      </a>
      <a class="item" href="https://x.com/ATVICRAFT" target="_blank" rel="noopener" style="box-shadow:0 0 0 1px rgba(43,218,181,.5),0 10px 24px rgba(43,218,181,.25) inset;">
        <span class="icon"><img src="icons/x-atvi.webp" alt="X ATVICRAFT"></span><span class="label">Twitter</span>
      </a>
    </div>

    <!-- Noticias / comunicados -->
    <article class="card"><h3>Noticias</h3>
      <div class="slot">
        <div class="elfsight-app-4299bc62-2bf2-4ddc-ad9c-74cc377d7656" data-elfsight-app-lazy></div>
      </div>
    </article>
  </section>

  <footer>© 2025 AndrewTVI • Hecho con GitHub Pages</footer>
</main>

<script>
/* =======================
   Config cambios de assets
======================= */
const covers = {
  links: 'cover.webp',
  posts: 'cover.webp',      // <- usa el mismo que links (antes: cover-posts.webp)
  atvi : 'cover-atvi.webp'  // <- el de ATVICRAFT se mantiene único
};
const avatars = {
  links: 'avatar.webp',
  posts: 'avatar.webp',        // <- si quieres otro, cámbialo
  atvi : 'avatar-atvi.webp'    // <- pon tu imagen
};

/* =======================
   Starfield ULTRA optimizado
======================= */
(() => {
  const c = document.getElementById('stars');
  if (!c) return;
  
  const ctx = c.getContext('2d', { alpha: true });
  let w, h, stars = [], lastT = 0;
  let animationId = null;
  
  // Detectar Firefox y dispositivos móviles para optimizar
  const isFF = navigator.userAgent.toLowerCase().includes('firefox');
  const isMobile = matchMedia("(max-width: 720px)").matches;
  
  // Configuración optimizada para diferentes dispositivos
  let baseCount = 60; // Base reducida para todos
  if (isFF) baseCount = 40; // Firefox necesita aún menos
  if (isMobile) baseCount = 30; // Móviles con menos capacidad

  function resize(){
    w = c.width = innerWidth;
    h = c.height = innerHeight;
    
    const count = Math.min(baseCount, Math.floor(w * h / 18000));
    stars = Array.from({length: count}, () => ({
      x: Math.random() * w,
      y: Math.random() * h,
      r: Math.random() * 0.8 + 0.3,  // Estrellas más pequeñas
      s: Math.random() * 0.3 + 0.12, // Movimiento más lento
      a: Math.random() * 0.3 + 0.5   // Menos opacidad
    }));
  }
  
  // Usar un resize pasivo y debounced
  let resizeTimeout;
  function debouncedResize() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(resize, 100);
  }
  addEventListener('resize', debouncedResize, { passive: true });
  resize();

  // Renderizado optimizado con frame skipping
  let frameCount = 0;
  function tick(t) {
    if (!lastT) lastT = t;
    const dt = t - lastT;
    
    // Saltar frames en dispositivos lentos o Firefox
    const skipFrames = isFF || isMobile ? 2 : 1;
    if (frameCount % skipFrames !== 0) {
      frameCount++;
      animationId = requestAnimationFrame(tick);
      return;
    }
    
    lastT = t;
    frameCount++;
    
    ctx.clearRect(0, 0, w, h);
    ctx.fillStyle = '#fff';
    
    for(const s of stars) {
      ctx.globalAlpha = s.a;
      ctx.beginPath(); 
      ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2); 
      ctx.fill();
      
      s.y -= s.s; 
      if(s.y < -4) s.y = h + 4;
    }
    
    ctx.globalAlpha = 1;
    animationId = requestAnimationFrame(tick);
  }
  
  // Iniciar animación solo si es visible
  const observer = new IntersectionObserver((entries) => {
    if (entries[0].isIntersecting) {
      if (!animationId) animationId = requestAnimationFrame(tick);
    } else {
      cancelAnimationFrame(animationId);
      animationId = null;
    }
  }, { threshold: 0.1 });
  
  observer.observe(c);
})();

/* =======================
   Tabs + temas + cover/avatar
======================= */
const body   = document.body;
const panels = {
  links: document.getElementById('panel-links'),
  posts: document.getElementById('panel-posts'),
  atvi : document.getElementById('panel-atvi')
};
const btnLinks = document.getElementById('tab-links');
const btnPosts = document.getElementById('tab-posts');
const btnAtvi  = document.getElementById('tab-atvi');
const btnSoon  = document.getElementById('tab-soon');

const coverImg  = document.getElementById('coverImg');
const avatarImg = document.getElementById('avatarImg');
const handle    = document.getElementById('handleText');
const titleName = document.getElementById('titleName');

function setTheme(which){
  document.body.classList.remove('theme-links','theme-posts','theme-atvi');
  if(which==='posts') document.body.classList.add('theme-posts');
  else if(which==='atvi') document.body.classList.add('theme-atvi');
  else document.body.classList.add('theme-links');
}

function swapAssets(which){
  const newCover  = covers[which]  || covers.links;
  const newAvatar = avatars[which] || avatars.links;

  // Evita resetear el src si no cambió (previene parpadeos)
  if (coverImg.dataset.src !== newCover) {
    coverImg.dataset.src = newCover;
    coverImg.src = newCover;
  }
  if (avatarImg.dataset.src !== newAvatar) {
    avatarImg.dataset.src = newAvatar;
    avatarImg.src = newAvatar;
  }

  // Fallback si el cover falla: vuelve al de links
  coverImg.onerror = () => {
    if (coverImg.src.indexOf(covers.links) === -1) coverImg.src = covers.links;
  };

  // Textos por sección - ATVICRAFT tiene nombre diferente
  if(which==='links'){ 
    titleName.textContent='AndrewTVI'; 
    handle.textContent='Hola'; 
  }
  if(which==='posts'){ 
    titleName.textContent='AndrewTVI'; 
    handle.textContent='Publicaciones'; 
  }
  if(which==='atvi'){  
    titleName.textContent='ATVICRAFT';  // Cambiado a ATVICRAFT
    handle.textContent='Servidor de Minecraft'; 
  }
}

function reloadElfsight(){
  if (window.Eapps && typeof Eapps.reload === 'function') {
    try { Eapps.reload(); } catch(_) {}
  } else {
    setTimeout(()=>window.dispatchEvent(new Event('resize')), 60);
  }
}

// Animación consistente en cualquier orden
let current = 'links';  // panel inicial
function showPanel(which){
  if (which === current) return;

  // Tabs
  [btnLinks, btnPosts, btnAtvi].forEach(b=>b.setAttribute('aria-selected','false'));
  ({links:btnLinks, posts:btnPosts, atvi:btnAtvi}[which]).setAttribute('aria-selected','true');

  // Tema + assets
  setTheme(which);
  swapAssets(which);

  // Panels
  const from = panels[current];
  const to   = panels[which];

  // Preparar el destino y activar con rAF para asegurar transición
  to.hidden = false;
  to.classList.remove('hide','show');
  requestAnimationFrame(() => to.classList.add('show'));

  // Animar salida
  from.classList.remove('show');
  from.classList.add('hide');
  setTimeout(()=>{ from.hidden = true; }, 240);

  current = which;

  // Rehidratar widgets cuando el panel tiene embeds
  if (which === 'posts' || which === 'atvi') setTimeout(reloadElfsight, 160);

  scrollTo({top:0,behavior:'smooth'});
}

btnLinks.onclick = ()=>showPanel('links');
btnPosts.onclick = ()=>showPanel('posts');
btnAtvi.onclick  = ()=>showPanel('atvi');
btnSoon.onclick  = e=>e.preventDefault();

/* =======================
   YouTube uploads playlist
======================= */
(() => {
  const id = "UCiDZC35tuPSR65J88ALn7zg";
  const uploads = id.startsWith('UC') ? 'UU' + id.slice(2) : id;
  document.getElementById('yt-embed').src =
    `https://www.youtube.com/embed/videoseries?list=${uploads}&rel=0`;
})();
</script>

  <!-- Cuando muera robenme el cerebro pa que hagan la feria que no pudieron -->
</body>
</html>