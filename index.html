<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>@AndrewTVI | Links</title>
  <meta name="description" content="Links y posts recientes." />
  <meta name="theme-color" content="#8b5cf6" />

  <!-- Favicons -->
  <link rel="icon" href="favicon.webp" type="image/webp" />
  <link rel="icon" href="favicon.png" type="image/png" sizes="32x32" />
  <link rel="apple-touch-icon" href="favicon.png" />
  <link rel="icon" href="favicon.ico" sizes="any" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Elfsight (se carga una sola vez para todos los widgets) -->
  <script src="https://elfsightcdn.com/platform.js" async></script>

  <style>
    :root{
      --bg1:#0b0b0e; --bg2:#14141a; --border:rgba(255,255,255,.22);
      --fg:#f3f5f7; --muted:#c9cad0; --r-outer:28px;
      /* Paletas por pestaña */
      --links-top:#1d123a;     --links-bot:#0f0a1b;     --links-glow:#8b5cf6;
      --posts-top:#0d1b2e;     --posts-bot:#0a1320;     --posts-glow:#1f6feb;
      --atvi-top:#05323a;      --atvi-bot:#042528;      --atvi-glow:#2dd4bf;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--fg);
      background: radial-gradient(900px 540px at 50% -10%, #a78bfa26, transparent), linear-gradient(180deg, var(--bg2), var(--bg1));
      display:flex; justify-content:center; align-items:flex-start; padding:20px 16px 110px; overflow-y:auto;
    }

    /* STARFIELD */
    .stars{position:fixed; inset:0; pointer-events:none; z-index:-1; opacity:.85}

    /* Phone/Card */
    .phone{
      width:100%; max-width:980px; border-radius:var(--r-outer);
      background:linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.07));
      border:1px solid var(--border); backdrop-filter:blur(14px) saturate(160%);
      -webkit-backdrop-filter:blur(14px) saturate(160%); box-shadow:0 22px 48px rgba(0,0,0,.38); overflow:hidden;
    }

    /* Cover */
    .cover{position:relative; height:min(42vw,260px); background:linear-gradient(180deg,#23242a,#1a1b20); overflow:hidden}
    .cover img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; filter:saturate(1.05) contrast(1.02)}
    .cover::after{content:""; position:absolute; inset:0; background:linear-gradient(180deg,transparent 58%, rgba(0,0,0,.58))}

    header{position:relative; text-align:center; padding:0 18px 18px}
    .avatar{position:relative; top:-46px; z-index:2; width:100px; height:100px; border-radius:999px; object-fit:cover; border:3px solid rgba(255,255,255,.9); box-shadow:0 10px 24px rgba(0,0,0,.32)}
    .title{margin-top:-38px; font-weight:800; font-size:26px}
    .handle{color:var(--muted); font-weight:600}
    .project{margin-top:6px; font-weight:800; color:var(--fg); opacity:.85}

    /* Tabs */
    .tabs{display:flex; gap:10px; padding:14px; justify-content:center; flex-wrap:wrap}
    .tab{
      padding:10px 14px; border-radius:999px; border:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.07));
      color:var(--fg); font-weight:800; cursor:pointer; min-width:120px; text-align:center;
      transition:transform .15s ease, box-shadow .2s ease, background .2s ease;
      will-change:transform, box-shadow;
    }
    .tab[aria-selected="true"]{transform:translateY(-1px)}
    .tab[aria-disabled="true"]{opacity:.45; cursor:not-allowed; filter:grayscale(40%)}

    /* Secciones */
    section{padding:14px}
    .fade{opacity:0; transform:translateY(6px); transition:opacity .25s ease, transform .25s ease}
    .fade.show{opacity:1; transform:none}

    /* LINKS */
    .list{display:grid; gap:14px; margin:6px 0 18px}
    .item{
      display:flex; align-items:center; gap:12px; text-decoration:none; color:var(--fg);
      background:linear-gradient(145deg, rgba(255,255,255,.20), rgba(255,255,255,.08));
      border:1px solid var(--border); border-radius:24px; padding:14px 16px;
      backdrop-filter:blur(10px) saturate(140%); -webkit-backdrop-filter:blur(10px) saturate(140%);
      transition:transform .08s ease, box-shadow .18s ease;
      box-shadow:inset 0 1px 0 rgba(255,255,255,.7), inset 0 -1px 0 rgba(0,0,0,.22);
      will-change:transform, box-shadow;
    }
    .item:hover{transform:translateY(-2px)}
    .icon img{width:36px; height:36px; display:block}
    .label{font-weight:800}

    /* POSTS Grid */
    .grid{display:grid; grid-template-columns:1fr; gap:16px}
    @media(min-width:760px){.grid{grid-template-columns:1fr 1fr}}
    .card{position:relative; overflow:hidden; border-radius:18px; background:linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,.08)); border:1px solid var(--border); min-height:180px; backdrop-filter:blur(10px)}
    .card h3{position:absolute; left:12px; top:10px; margin:0; background:rgba(0,0,0,.45); padding:6px 10px; border-radius:999px; font-size:12px; letter-spacing:.2px}
    .slot{width:100%; display:block}
    .slot16x9{width:100%; display:grid; place-items:center; aspect-ratio:16/9}
    iframe{width:100%; height:100%; border:0}
    .empty{color:var(--muted); font-size:14px; padding:26px; text-align:center}

    footer{padding:16px 0 6px; text-align:center; color:var(--muted); font-size:12px}

    /* Temas por pestaña (gradiente superior + glow de botones) */
    .theme-links .phone{box-shadow:0 22px 48px rgba(0,0,0,.38)}
    .theme-links .tab[aria-selected="true"], .theme-links .item:hover{box-shadow:0 0 0 1px rgba(139,92,246,.45), 0 12px 28px rgba(139,92,246,.25)}
    .theme-posts  .tab[aria-selected="true"], .theme-posts  .item:hover{box-shadow:0 0 0 1px rgba(31,111,235,.45), 0 12px 28px rgba(31,111,235,.25)}
    .theme-atvi   .tab[aria-selected="true"], .theme-atvi   .item:hover{box-shadow:0 0 0 1px rgba(45,212,191,.45), 0 12px 28px rgba(45,212,191,.25)}

    .theme-links .cover{background-image:linear-gradient(180deg,var(--links-top),var(--links-bot))}
    .theme-posts .cover{background-image:linear-gradient(180deg,var(--posts-top),var(--posts-bot))}
    .theme-atvi  .cover{background-image:linear-gradient(180deg,var(--atvi-top),var(--atvi-bot))}
  </style>
</head>
<body class="theme-links">
  <!-- Starfield -->
  <canvas class="stars" id="starfield"></canvas>

  <main class="phone fade show" id="frame">
    <div class="cover"><img id="cover-img" src="cover.webp" alt="Cover"></div>
    <header>
      <img class="avatar" id="avatar-img" src="avatar.webp" alt="Avatar" />
      <div class="title" id="title-name">AndrewTVI</div>
      <div class="handle" id="title-handle">Hola</div>
      <div class="project" id="project-tag">#Proyecto 1K</div>
    </header>

    <!-- Tabs -->
    <nav class="tabs" role="tablist">
      <button class="tab" role="tab" id="tab-links" aria-selected="true"  aria-controls="panel-links">Links</button>
      <button class="tab" role="tab" id="tab-posts" aria-selected="false" aria-controls="panel-posts">Posts</button>
      <button class="tab" role="tab" id="tab-atvi"  aria-selected="false" aria-controls="panel-atvi">ATVICRAFT</button>
      <button class="tab" role="tab" id="tab-soon"  aria-selected="false" aria-disabled="true">PRÓXIMAMENTE</button>
    </nav>

    <!-- LINKS -->
    <section id="panel-links" role="tabpanel" aria-labelledby="tab-links" class="fade show">
      <div class="list">
        <a class="item" href="https://www.twitch.tv/andrewtvi" target="_blank" rel="noopener"><span class="icon"><img src="icons/twitch.webp" alt="Twitch"></span><span class="label">Directos</span></a>
        <a class="item" href="https://discord.com/invite/fCCrFsg4fB" target="_blank" rel="noopener"><span class="icon"><img src="icons/discord.webp" alt="Discord"></span><span class="label">EL CORRALON</span></a>
        <a class="item" href="https://www.youtube.com/@ElAndrewTVI" target="_blank" rel="noopener"><span class="icon"><img src="icons/youtube.webp" alt="YouTube"></span><span class="label">Videos Chafas</span></a>
        <a class="item" href="https://www.tiktok.com/@andrewtvi" target="_blank" rel="noopener"><span class="icon"><img src="icons/tiktok.webp" alt="TikTok"></span><span class="label">TikTok</span></a>
        <a class="item" href="https://x.com/iandres_soto" target="_blank" rel="noopener"><span class="icon"><img src="icons/x.webp" alt="X"></span><span class="label">X (Twitter)</span></a>
        <a class="item" href="https://www.instagram.com/andrewtvi" target="_blank" rel="noopener"><span class="icon"><img src="icons/instagram.webp" alt="Instagram"></span><span class="label">Instagram</span></a>
        <a class="item" href="https://kick.com/andrewtvi" target="_blank" rel="noopener"><span class="icon"><img src="icons/kick.webp" alt="Kick"></span><span class="label">Directos sin anuncios</span></a>
        <a class="item" href="https://laby.net/@AndrewTVI" target="_blank" rel="noopener"><span class="icon"><img src="icons/minecraft.webp" alt="Minecraft"></span><span class="label">Perfil de Minecraft</span></a>
      </div>
    </section>

    <!-- POSTS -->
    <section id="panel-posts" role="tabpanel" aria-labelledby="tab-posts" class="fade" hidden>
      <div class="grid">
        <!-- Instagram -->
        <article class="card"><h3>Instagram</h3><div class="slot" id="ig-slot">
          <div class="elfsight-app-bcfa254f-d2c9-4100-b02e-75a673307e59" data-elfsight-app-lazy></div>
        </div></article>

        <!-- YouTube -->
        <article class="card"><h3>YouTube</h3><div class="slot slot16x9"><iframe id="yt-embed" allowfullscreen></iframe></div></article>

        <!-- Twitter -->
        <article class="card"><h3>Twitter</h3><div class="slot" id="tw-slot" style="min-height:320px">
          <div class="elfsight-app-e74ab7a2-0a05-429c-8ccf-ed4a335ad494" data-elfsight-app-lazy></div>
        </div></article>

        <!-- TikTok -->
        <article class="card"><h3>TikTok</h3><div class="slot" id="tt-slot" style="min-height:420px">
          <div class="elfsight-app-081b44e4-c8e9-47b5-b96f-36c35206ad79" data-elfsight-app-lazy></div>
        </div></article>
      </div>
    </section>

    <!-- ATVICRAFT -->
    <section id="panel-atvi" role="tabpanel" aria-labelledby="tab-atvi" class="fade" hidden>
      <div class="list">
        <a class="item" href="https://discord.com/invite/8rrXvbES29" target="_blank" rel="noopener">
          <span class="icon"><img src="icons/atvi/discord.webp" alt="Discord"></span><span class="label">Únete al Discord</span>
        </a>
        <a class="item" href="https://www.instagram.com/atvicraft" target="_blank" rel="noopener">
          <span class="icon"><img src="icons/atvi/instagram.webp" alt="Instagram"></span><span class="label">Instagram</span>
        </a>
        <a class="item" href="https://x.com/ATVICRAFT" target="_blank" rel="noopener">
          <span class="icon"><img src="icons/atvi/x.webp" alt="X"></span><span class="label">Twitter</span>
        </a>
      </div>

      <article class="card" style="margin-top:10px">
        <h3>Noticias</h3>
        <div class="slot" style="padding:8px 8px 2px">
          <div class="elfsight-app-4299bc62-2bf2-4ddc-ad9c-74cc377d7656" data-elfsight-app-lazy></div>
        </div>
      </article>
    </section>

    <footer>© 2025 AndrewTVI • Hecho con GitHub Pages</footer>
  </main>

  <script>
  /* ===================== STARFIELD (optimizado FF/móvil) ===================== */
  (function(){
    const c = document.getElementById('starfield');
    const ctx = c.getContext('2d', { alpha:true, desynchronized:true });
    let w=0,h=0, stars=[], baseCount=180; // menos denso = más fluido
    const isFF = typeof InstallTrigger !== 'undefined';

    function resize(){
      w = c.width  = innerWidth;
      h = c.height = innerHeight;
      const byArea = Math.floor((w*h)/18000);
      const count  = Math.min(baseCount, byArea);
      stars = Array.from({length:count}, () => ({
        x: Math.random()*w,
        y: Math.random()*h,
        r: Math.random()*0.9+0.35,
        s: Math.random()*0.38+0.16,
        a: Math.random()*0.30+0.50
      }));
    }
    addEventListener('resize', resize, {passive:true}); resize();

    let skipEvery = isFF ? 2 : 0, skip=0;
    function tick(){
      if(skip){ skip--; return requestAnimationFrame(tick); }
      skip = skipEvery;

      ctx.clearRect(0,0,w,h);
      ctx.fillStyle = '#fff';
      for(const s of stars){
        ctx.globalAlpha = s.a;
        ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
        s.y -= s.s; if(s.y<-2) s.y = h+2;
      }
      ctx.globalAlpha = 1;
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
  })();

  /* ===================== CONFIG + helpers ===================== */
  const CONFIG = {
    youtubeChannelId: "UCiDZC35tuPSR65J88ALn7zg",
    covers:  { links:"cover.webp", posts:"cover.webp", atvi:"cover-atvi.webp" },
    avatars: { links:"avatar.webp", posts:"avatar.webp", atvi:"avatar-atvi.webp" }
  };

  const frame  = document.getElementById('frame');
  const titleName  = document.getElementById('title-name');
  const handle     = document.getElementById('title-handle');
  const coverImg   = document.getElementById('cover-img');
  const avatarImg  = document.getElementById('avatar-img');

  function swapAssets(which){
    coverImg.src = CONFIG.covers[which]  || CONFIG.covers.links;
    avatarImg.src= CONFIG.avatars[which] || CONFIG.avatars.links;
    if(which==='links'){ titleName.textContent='AndrewTVI';  handle.textContent='Hola'; }
    if(which==='posts'){ titleName.textContent='AndrewTVI';  handle.textContent='Publicaciones'; }
    if(which==='atvi'){  titleName.textContent='ATVICRAFT';  handle.textContent='Servidor de Minecraft'; }
    document.body.classList.remove('theme-links','theme-posts','theme-atvi');
    document.body.classList.add(which==='posts'?'theme-posts':(which==='atvi'?'theme-atvi':'theme-links'));
  }

  /* ===================== TABS ===================== */
  const panels = {
    links: document.getElementById('panel-links'),
    posts: document.getElementById('panel-posts'),
    atvi : document.getElementById('panel-atvi')
  };
  const btnLinks = document.getElementById('tab-links');
  const btnPosts = document.getElementById('tab-posts');
  const btnAtvi  = document.getElementById('tab-atvi');
  const btnSoon  = document.getElementById('tab-soon');

  function selectTab(which){
    // Animación de salida/entrada
    frame.classList.remove('show'); void frame.offsetWidth; frame.classList.add('show');

    for (const k of Object.keys(panels)){
      panels[k].hidden = true; panels[k].classList.remove('show');
    }
    [btnLinks,btnPosts,btnAtvi].forEach(b=>b.setAttribute('aria-selected','false'));

    panels[which].hidden = false;
    requestAnimationFrame(()=> panels[which].classList.add('show'));
    ({links:btnLinks, posts:btnPosts, atvi:btnAtvi}[which]).setAttribute('aria-selected','true');

    swapAssets(which);
    window.scrollTo({top:0,behavior:'smooth'});
  }
  btnLinks.onclick=()=>selectTab('links');
  btnPosts.onclick=()=>{ ensureYouTube(); selectTab('posts'); };
  btnAtvi.onclick =()=>selectTab('atvi');
  btnSoon.onclick =e=>e.preventDefault();

  /* ===================== YOUTUBE (playlist subidas) ===================== */
  function ensureYouTube(){
    if (!CONFIG.youtubeChannelId) return;
    const id = CONFIG.youtubeChannelId.trim();
    const uploads = id.startsWith('UC') ? 'UU'+id.slice(2) : id;
    const el = document.getElementById('yt-embed');
    if (!el.src) el.src = `https://www.youtube.com/embed/videoseries?list=${uploads}&rel=0`;
  }

  // Inicial
  ensureYouTube();
  swapAssets('links');
  </script>
</body>
</html>
